<p class="text-4xl text-center">Tabla de registros</p>


<b [hidden]="!(loading$ | async)">Cargando... </b>

<div [hidden]="(loading$ | async)" class="card">
    <div class="mb-4">
        <p-button (click)="addContact()" label="Agregar nuevo contacto" />
    </div>
    <p-table
        [value]="(filteredUsers$! | async)"
        [tableStyle]="{ 'min-width': '50rem' }"
        [globalFilterFields]="['name', 'last_name']">
        <ng-template pTemplate="header">
            <tr>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Sexo</th>
                <th>Fecha de nacimiento</th>
                <th>Email</th>
                <th>Dirección</th>
                <th>País</th>
                <th>Departamento</th>
                <th>Ciudad</th>
                <th>Comentario</th>
                <th>Acciones</th>
            </tr>
            <tr>
                <th>
                    <input (input)="onFilterChange('name', $event.target)" pInputText type="text">
                </th>
                <th>
                    <input (input)="onFilterChange('last_name', $event.target)" pInputText type="text">
                </th>
                <th>
                    <input (input)="onFilterChange('sex', $event.target)" pInputText type="text">
                </th>
                <th>
                    <input (input)="onFilterChange('date_birthday', $event.target)" pInputText type="date">
                    <!-- <p-calendar (onSelect)="onFilterChange('date_birthday', $event)" (onInput)="onFilterChange('date_birthday', $event.target)"  /> -->
                </th>
                <th>
                    <input (input)="onFilterChange('email', $event.target)" pInputText type="text">
                </th>
                <th>
                    <input (input)="onFilterChange('addres', $event.target)" pInputText type="text">
                </th>
                <th>
                    <input (input)="onFilterChange('country', $event.target)" pInputText type="text">
                </th>
                <th>
                    <input (input)="onFilterChange('Deparment', $event.target)" pInputText type="text">
                </th>
                <th>
                    <input (input)="onFilterChange('City', $event.target)" pInputText type="text">
                </th>
                <th>
                    <input (input)="onFilterChange('comment', $event.target)" pInputText type="text">
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-user>
            <tr>
                <td>{{ user.name }}</td>
                <td>{{ user.last_name }}</td>
                <td>{{ user.sex }}</td>
                <td>{{ user.date_birthday }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.addres }}</td>
                <td>{{ user.country }}</td>
                <td>{{ user.Deparment }}</td>
                <td>{{ user.City }}</td>
                <td>{{ user.comment }}</td>
                <td>
                    <div class="inline-flex">
                        <p-button class="mr-2" icon="pi pi-pen-to-square" />
                        <p-button severity="danger" icon="pi pi-trash" />
                    </div>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>